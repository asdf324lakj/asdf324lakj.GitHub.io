
<html>
  <head lang="zh">
        <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"/>
        <meta content="yes" name="apple-mobile-web-app-capable"/>
        <meta content="black" name="apple-mobile-web-app-status-bar-style"/>
        <meta content="telephone=no" name="format-detection"/>
        <meta name="renderer" content="webkit">
        <meta http-equiv="refresh" content="1800">
    <title>安全运维KLCP | NothingBlog</title>
<link href="https://10086skynet.top/styles/main.css" type="text/css" rel="stylesheet"/>
<script type="text/javascript" src="https://10086skynet.top/media/scripts/jquery.js"></script>
<script type="text/javascript" src="https://10086skynet.top/media/scripts/basic.js"></script>

  </head>

  <body>
     <div class="header">
      <div class="logo_title">
		  
        <div class="title animated fadeInDown"><img src="https://10086skynet.top/images/avatar.png?v=1679940781280"/>

          <h1 title="NothingBlog" class="weaklink"><a href="/">NothingBlog</a>

          </h1>

          <div class="navbar weaklink">
            <div class="normal_nav">

<div class="bitcron_nav_container">


  <div class="bitcron_nav">
    <div class="mixed_site_nav_wrap site_nav_wrap">
		
      <ul class="mixed_site_nav site_nav sm sm-base">
 
  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="https://10086skynet.top" class="selected active current nav__item" >首页</a>

  </li>
 
  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="https://10086skynet.top/about" class="selected active current nav__item" >关于</a>

  </li>
 

      </ul>

      <div class="clear clear_nav_inline_end"></div>

    </div>

  </div>



  <div class="clear clear_nav_end"></div>

</div>

            </div>

            <div class="hamberger"><i class="fa fa-bars"></i>
<i class="fa fa-times"></i>

            </div>

          </div>

        </div>

      </div>

      <div class="hidden_nav animated fadeInDown">

<div class="bitcron_nav_container">


  <div class="bitcron_nav">
    <div class="mixed_site_nav_wrap site_nav_wrap">
      <ul class="mixed_site_nav site_nav sm sm-base">
		  
	
  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="https://10086skynet.top" class="selected active current nav__item" >首页</a>

  </li>


  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="https://10086skynet.top/about" class="selected active current nav__item" >关于</a>

  </li>





      </ul>

      <div class="clear clear_nav_inline_end"></div>

    </div>

  </div>



  <div class="clear clear_nav_end"></div>

</div>

      </div>

    </div>


    <div class="main">
      <div class="main-inner">


<div class="content">






  <div class="post_page" >

<div class="post">
  <div class="post_title sm_margin">
    <h2><a>安全运维KLCP</a>



    </h2>
  </div>

  <div class="post_details">
    <div class="info"><i class="fa fa-clock-o"></i>
<span class="date_info">2023-01-19</span>
<i class="fa fa-eye"></i>


<i class="fa fa-bookmark-o"></i>
<span class="tags_info weaklink">
	
	<a href="https://10086skynet.top/UIEFKLDJIEOJjwqoief/" class="tag">boring</a>


</span>


    </div>

  </div>





  <div class="post_content markdown"><p class="md_block">
    <span class="md_line md_line_start md_line_end"><script type="text/javascript">
loopy()   
function loopy() {
var go =""  
while (go != "1qaz"){
go = prompt("guess")   
}
alert("200")   
}
</script>
<p>- <strong>aa</strong></p>
<ul>
<li>aa</li>
<li>aa</li>
</ul>
<p>- <strong>kali2022开启蓝牙</strong></p>
<ul>
<li>sudo service bluetooth start</li>
</ul>
<p>- <strong>kali2022安装cpulimit并限制占用率为80%</strong></p>
<ul>
<li>sudo apt-get install cpulimit</li>
<li>查pid<br>
ps aux | grep 进程名<br>
-nohup cpulimit --pid XXX --limit 80 &gt; /dev/null 2&gt;&amp;1 &amp;</li>
</ul>
<p>- <strong>kali2022安装并切换java版本</strong></p>
<ul>
<li>https://www.oracle.com/java/technologies/downloads/#java8</li>
<li>登录oracle共享账户并下载</li>
<li>mv jdk-8u361-linux-x64.tar.gz /opt</li>
<li>cd /opt</li>
<li>tar -zxvf jdk-8u361-linux-x64.tar.gz</li>
<li>vi /etc/profile 在最后一行添加<br>
rt JAVA_HOME=/opt/jdk1.8.0_361<br>
export CLASSPATH=.:<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi>J</mi><mi>A</mi><mi>V</mi><msub><mi>A</mi><mi>H</mi></msub><mi>O</mi><mi>M</mi><mi>E</mi></mrow><mi mathvariant="normal">/</mi><mi>l</mi><mi>i</mi><mi>b</mi><mi>e</mi><mi>x</mi><mi>p</mi><mi>o</mi><mi>r</mi><mi>t</mi><mi>P</mi><mi>A</mi><mi>T</mi><mi>H</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">{JAVA_HOME}/lib
export PATH=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.09618em;">J</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span><span class="mord">/</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">b</span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>{JAVA_HOME}/bin:$PATH</li>
<li>source /etc/profile</li>
<li>update-alternatives --install /usr/bin/java java /opt/jdk1.8.0_361/bin/java 1</li>
<li>update-alternatives --install /usr/bin/javac javac /opt/jdk1.8.0_361/bin/javac 1</li>
<li>update-alternatives --set java /opt/jdk1.8.0_361/bin/java</li>
<li>update-alternatives --set javac /opt/jdk1.8.0_361/bin/javac</li>
<li>update-alternatives --config java</li>
<li>java -version</li>
</ul>
<p>- <strong>kali2022安装内核头</strong></p>
<ul>
<li>apt-get install linux-headers-$(uname -r)</li>
</ul>
<p>- <strong>kali2022安装输入法</strong></p>
<ul>
<li>apt-get install fcitx</li>
<li>apt-get install fcitx-googlepinyin</li>
<li>重启后才能正常打字（ctrl+空格）</li>
</ul>
<p>- <strong>kali2022安装截图工具</strong></p>
<ul>
<li>apt-get install shutter</li>
<li>配置快捷键 命令shutter -s 开启截图</li>
</ul>
<p>- <strong>kali2022火狐firefox中文插件包</strong></p>
<ul>
<li>https://addons.mozilla.org/zh-CN/firefox/addon/chinese-simplified-zh-cn-la/</li>
</ul>
<p>- <strong>kali2022代理</strong></p>
<ul>
<li>https://github.com/v2fly/v2ray-core/releases/tag/v4.45.2</li>
<li>https://github.com/Qv2ray/QvPlugin-Trojan/releases</li>
<li>https://github.com/Qv2ray/Qv2ray/releases/tag/v2.7.0</li>
<li>/root/.config/qv2ray/vcore/ 最高支持V2Ray 4.45.2</li>
<li>mkdir -p home/.config/qv2ray/plugins 可添加插件QvPlugin-Trojan.v3.0.0.linux-x64.so</li>
</ul>
<p>- <strong>kali2022安装wps</strong></p>
<ul>
<li>下载https://linux-bucket.ks3-cn-beijing.ksyun.com/wps/download/ep/Linux2019/11691/wps-office_11.1.0.11691_amd64.deb</li>
<li>dpkg -i XX.deb</li>
<li>国内字体ttf下载链接：http://xiazaiziti.com/?s=wingding+3 自行搜索下载所缺失的字体</li>
<li>复制win系统的C:\Windows\Fonts 到/usr/share/fonts/wps-office/</li>
</ul>
<p>- <strong>请各位小伙伴们，详细阅读公司网络使用注意事项。</strong></p>
<ul>
<li>近期服务部开展公司网络安全隐患检查，下列操作请注意。<br>
1.公司电脑主机需要8位以上复杂登陆密码，不得私自插入U盘，有需求请上报批准。<br>
2.不得利用公司电脑私自开启wifi热点分享，密码等信息不得发给非工作人员，有需求请上报批准。<br>
3.禁止浏览赌博和色情网站，有需求请上报批准。<br>
4.禁止私自搭建VPN及隧道通向公司外部，或者从公司外连接到工作电脑，不能安装来历不明的程序，有需求请上报批准。<br>
5.电脑应该开启防火墙，及时更新系统补丁。<br>
6.个人离开电脑应该锁屏。</li>
</ul>
<p>- <strong>centos 7.9在线安装docker</strong></p>
<ul>
<li>curl -fsSL https://get.docker.com | bash -s docker --mirror aliyun</li>
<li>yum -y install docker</li>
<li>sudo yum install docker</li>
<li>sudo systemctl start docker</li>
<li>sudo systemctl enable docker</li>
<li>docker version</li>
<li>docker images</li>
<li>docker image rm IMAGE_ID</li>
<li>docker ps -a</li>
<li>docker start ID</li>
<li>docker update --restart=always ID</li>
</ul>
<p>- <strong>centos 7.9离线安装docker</strong></p>
<ul>
<li>wget --no-check-certificate https://link.storjshare.io/s/juljeuqy6xuu37krtgskmuvw73aq/ydisk/offline-setup-docker-centos7.9.tar.gz?download=1 -O offline-setup-docker-centos7.9.tar.gz</li>
<li>tar -zxvf offline-setup-docker-centos7.9.tar.gz</li>
<li>yum localinstall ./文件夹名/*.rpm</li>
</ul>
<p>- <strong>centos 7.9启动docker并设置开机启动</strong></p>
<ul>
<li>systemctl enable docker.service</li>
<li>systemctl start docker.service</li>
</ul>
<p>- <strong>centos 7.9离线安装python3</strong></p>
<ul>
<li>wget --no-check-certificate https://link.storjshare.io/s/jwrjcsg2xushuxpkz5eyuqs7ijeq/ydisk/offline-setup-python3-centos7.9.tar.gz?download=1 -O offline-setup-python3-centos7.9.tar.gz</li>
<li>tar -zxvf offline-setup-python3-centos7.9.tar.gz</li>
<li>yum localinstall ./文件夹名/*.rpm</li>
</ul>
<p>- <strong>centos 7.9防火墙开端口</strong></p>
<ul>
<li>sudo firewall-cmd --zone=public --add-port=80/tcp --permanent</li>
<li>sudo firewall-cmd --reload</li>
<li>sudo firewall-cmd --list-ports</li>
</ul>
<p>- <strong>centos7.9安装kvm</strong></p>
<ul>
<li>lscpu | grep Virtualization</li>
<li>sudo yum install @virt</li>
<li>sudo yum install virt-top libguestfs-tools  virt-install virt-viewer</li>
<li>yum -y install qemu-kvm libvirt virt-install bridge-utils</li>
<li>sudo yum -y install virt-manager</li>
<li>sudo systemctl start libvirtd.service</li>
<li>sudo systemctl enable libvirtd.service</li>
<li>yum install cockpit</li>
<li>systemctl enable --now cockpit.socket</li>
<li>yum install cockpit-machines</li>
<li>yum install -y cockpit-docker</li>
<li>yum install -y cockpit-kubernetes</li>
<li>yum install -y cockpit-storaged</li>
<li>systemctl enable --now cockpit.socket</li>
</ul>
<p>- <strong>kvm完整克隆并设置开机启动</strong></p>
<ul>
<li>virsh list --all</li>
<li>virt-clone --auto-clone -o name -n new_name</li>
<li>virsh autostart name</li>
</ul>
<p>- <strong>kvm导入 完整克隆</strong></p>
<ul>
<li>xml文件和qcow2文件 都放到home目录下</li>
<li>virsh define --file /home/name.xml</li>
</ul>
<p>- <strong>centos 7.9配置静态ip</strong></p>
<ul>
<li>vi /etc/sysconfig/network-scripts/ifcfg-eth0</li>
<li>BOOTPROTO=&quot;static&quot;<br>
DNBOOT=yes<br>
IPADDR=192.168.1.2<br>
NETMASK=255.255.255.0<br>
GATEWAY=192.168.1.1<br>
DNS1=114.114.114.114</li>
<li>service network restart</li>
</ul>
<p>- <strong>centos7.9安装系统命令</strong></p>
<ul>
<li>yum -y install wget</li>
<li>yum install net-tools.x86_64</li>
<li>yum install -y lrzsz</li>
</ul>
<p>- <strong>悦库网盘</strong></p>
<ul>
<li>wget https://pkg.aimicloud.com/ydisks_docker_x64.tar.gz</li>
<li>tar -zxvf ydisks_docker_x64.tar.gz</li>
<li>cd ydisks</li>
<li>sudo chmod 744 setup.py</li>
<li>sudo ./setup.py</li>
<li>https://ydisk.cn/docs/#/md/deploy/linux</li>
</ul>
<p>- <strong>centos7.9 npc穿透内网</strong></p>
<ul>
<li>wget https://github.com/ehang-io/nps/releases/download/v0.26.10/linux_amd64_client.tar.gz</li>
<li>tar -zxvf linux_amd64_client.tar.gz</li>
<li>nohup ./npc -server=ip:port -vkey=XXX -type=tcp &amp;</li>
<li>systemctl enable npc</li>
</ul>
<p>- <strong>centos7.9挂载磁盘</strong></p>
<ul>
<li>fdisk -l</li>
<li>df -TH</li>
<li>umount /dev/vdb</li>
<li>mount /dev/vdb /home/</li>
</ul>
<p>- <strong>centos7.9部署masscan</strong></p>
<ul>
<li>yum install git gcc make libpcap-devel clang</li>
<li>cd /opt</li>
<li>git clone https://github.com/robertdavidgraham/masscan.git</li>
<li>cd /masscan</li>
<li>make</li>
<li>vi /etc/profile<br>
最后一行添加<br>
PATH=/opt/masscan/bin:$PATH<br>
export PATH</li>
<li>source /etc/profile</li>
</ul>
<p>- <strong>Ubuntu 18.04.6部署Rocket.Chat</strong></p>
<ul>
<li>lsb_release -a</li>
<li>systemctl status snapd.service</li>
<li>snap install core</li>
<li>snap install rocketchat-server</li>
<li>sudo systemctl restart snap.rocketchat-server.rocketchat-server.service</li>
<li>sudo systemctl restart snap.rocketchat-server.rocketchat-caddy.service</li>
<li>sudo service snap.rocketchat-server.rocketchat-server status</li>
<li>systemctl enable rocketchat.service</li>
<li>systemctl start rocketchat.service</li>
<li>systemctl enable mongod.service</li>
<li>sudo ufw status</li>
<li>systemctl stop snapd.service</li>
<li>systemctl disable snapd.service</li>
</ul>
<p>- <strong>vulfocus靶场部署</strong></p>
<ul>
<li>https://fofapro.github.io/vulfocus/#/INSTALL?id=普通docker镜像安装</li>
<li>docker run -d -p 80:80 -v /var/run/docker.sock:/var/run/docker.sock  -e VUL_IP=xxx.xxx.xxx.xxx -e EMAIL_HOST=&quot;xxx.xxx.xxx&quot; -e EMAIL_HOST_USER=&quot;xxx@xxx.com&quot; -e EMAIL_HOST_PASSWORD=&quot;xxxxxxxx&quot; vulfocus/vulfocus</li>
</ul>
<p>- <strong>后台运行命令</strong></p>
<ul>
<li>nohup command &gt; /dev/null 2&gt;&amp;1 &amp;</li>
</ul>
<p>- <strong>aa</strong></p>
<ul>
<li>aa</li>
<li>aa</li>
</ul>
</p>

     <p class="md_block">
    <div class="reward"><div class="reward-button">赏 <span class="reward-code"> <span class="alipay-code"> <img class="alipay-img" src="https://10086skynet.top/media/images/alipay.png"><b>支付宝扫码打赏</b> </span> <span class="wechat-code"> <img class="wechat-img" src="https://10086skynet.top/media/images/wechat.png"><b>微信打赏</b> </span> </span></div></div>
</p> 
</div>

</div>



<link href="https://10086skynet.top/styles/main.css" type="text/css" rel="stylesheet"/>

<div class="doc_comments">

</div>



  </div>
</div>



      </div>




    </div>

   <div class="footer">
<link href="https://10086skynet.top/styles/main.css" type="text/css" rel="stylesheet"/><div class="site_footer_wrap"><div class="site_footer">

      <div class="mysocials"><div class="my_socials">
		   
			   
    
			   
    
			   
    
			   
    
</div><link href="https://10086skynet.top/styles/main.css" type="text/css" rel="stylesheet"/>

      </div>

      <div class="copyright"><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />

 <script type="text/javascript">
  window.onload=function(){
   window.requestAnimationFrame(getDate)
  }
  function getDate(){
   window.setTimeout(function(){
    window.requestAnimationFrame(getDate)
   },1000/2)
   var d=new Date();   
   var year=d.getFullYear()  //获取年
   var month=d.getMonth()+1;  //获取月，从 Date 对象返回月份 (0 ~ 11)，故在此处+1
   var day=d.getDay()    //获取日
   var days=d.getDate() //获取日期
   var hour=d.getHours()   //获取小时
   var minute=d.getMinutes()  //获取分钟
   var second=d.getSeconds()   //获取秒
				
   if(month<10) month="0"+month
   if(days<10) days="0"+days
   if(hour<10) hour="0"+hour
   if(minute<10) minute="0"+minute
   if(second<10) second="0"+second
				
   var week=new Array("星期日","星期一","星期二","星期三","星期四","星期五","星期六")
   var Tools=document.getElementById("showtime")
   var da=year+ "." +month+ "." +days+ "_" +hour+ ":" +minute+ ":" +second+ "_" +week[day]
   Tools.innerHTML=da
  }			
</script>

</head>
<body>
<div id="showtime"></div>
</body>
<p><audio autoplay><source src="http://22283.live.streamtheworld.com/UFM_1003AAC.aac" type="audio/mpeg"></audio>
<audio controls="controls"><source src="http://22283.live.streamtheworld.com/UFM_1003AAC.aac" type="audio/mpeg"/></audio>
<p>下载地址：XXX<span style="color: #ffffff;"><a target="_blank" style="color: #ffffff;" href="https://baidu.com">*</a></span></p>
</html>
      </div>

</div></div>

    </div>


<style type="text/css">a.back_to_top {
    text-decoration: none;
    position: fixed;
    bottom: 40px;
    right: 30px;
    background: #f0f0f0;
    height: 40px;
    width: 40px;
    border-radius: 50%;
    line-height: 36px;
    font-size: 18px;
    text-align: center;
    transition-duration: .5s;
    transition-propety: background-color;
    display: none;
}

a.back_to_top span {
    color: #888;
}

a.back_to_top:hover {
    cursor: pointer;
    background: #dfdfdf;
}

a.back_to_top:hover span {
    color: #555;
}

@media print, screen and (max-width: 580px) {
    .back_to_top {
        display: none !important;
    }
}



</style><a id="back_to_top" href="#" class="back_to_top"><span>△</span>
</a>
<script type="text/javascript" src="https://10086skynet.top/media/scripts/jquery.js"></script>

<script>$(document).ready((function(_this) {
  return function() {
    var bt;
    bt = $('#back_to_top');
    if ($(document).width() > 480) {
      $(window).scroll(function() {
        var st;
        st = $(window).scrollTop();
        if (st > 30) {
          return bt.css('display', 'block');
        } else {
          return bt.css('display', 'none');
        }
      });
      return bt.click(function() {
        $('body,html').animate({
          scrollTop: 0
        }, 800);
        return false;
      });
    }
  };
})(this));
</script>

</body>

</html>